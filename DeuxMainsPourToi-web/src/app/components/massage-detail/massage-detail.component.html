<div class="container">
  <div class="row">
    <div class="col-sm-2"></div>
    <div class="col-sm-8">
      <div *ngIf="isError, else showMassage">
        <div class="alert alert-danger">{{ errorMessage }}</div>
      </div>
      <ng-template #showMassage>
        <h1>{{ massage.titre }}</h1>
        <img src="{{ massage.image }}">
        <p>{{ massage.description }}</p>
        <p>Durée : {{ massage.duree }}</p>
        <p *ngIf="massage.type !== null">Type : {{ massage.type }}</p>
        <p>Style : {{ massage.descriptionCourte }}</p>
        <p>Prix : {{ massage.prix }}</p>
      </ng-template>
      <button (click)="retour()" class="btn btn-primary btn-block mb-4">Retour</button>
      <div class="comments-section">
        <h3>Commentaires</h3>
        <ul>
          <li *ngFor="let comment of comments">
            <p>{{ comment.commentaire }}</p>
            <small>Posté par {{ loggedPseudo }} le {{ comment.modifiedDate| date:'short' }}</small>
          </li>
        </ul>
        <div *ngIf="loggedIn" class="add-comment">
          <h4>Ajouter un commentaire</h4>
          <form (ngSubmit)="addComment()">
            <div class="form-group">
              <label for="commentaire">Commentaire</label>
              <textarea id="commentaire" [(ngModel)]="commentaire" name="commentaire" class="form-control" rows="3" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Ajouter</button>
          </form>
        </div>
      </div>
    </div>
    <div class="col-sm-2"></div>
  </div>
</div>
