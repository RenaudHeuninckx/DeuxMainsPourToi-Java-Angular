<div class="container">
  <div class="col-sm-3"></div>
  <div class="login-container col-sm-6">
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <h2>Enregistrement</h2>
      <div class="form-outline mb-4">
        <label for="pseudo" class="form-label">Pseudo:</label>
        <input type="text" id="pseudo" formControlName="pseudo" class="form-control" />
        @if (registerForm.controls['pseudo'].invalid && registerForm.controls['pseudo'].touched)
        {<div>
          @if (registerForm.controls['pseudo'].errors?.['required']) {<small>Le pseudo est requis.</small>}
          <!-- @if (registerForm.controls['pseudo'].errors?.['newPseudoValidator']) {<small>Ce pseudo est déjà utilisé.</small>} -->
        </div>}
      </div>
      <div class="form-outline mb-4">
        <label for="email" class="form-label">Email:</label>
        <input type="email" id="email" formControlName="email" class="form-control" />
        @if (registerForm.controls['email'].invalid && registerForm.controls['email'].touched)
        {<div>
          @if (registerForm.controls['email'].errors?.['required']) {<small>L'email est requis.</small>}
          @if (registerForm.controls['email'].errors?.['email']) {<small>L'email doit être valide.</small>}
          <!-- @if (registerForm.controls['email'].errors?.['newEmailValidator']) {<small>Cet email est déjà utilisé.</small>} -->
        </div>}
      </div>
      <div class="form-outline mb-4">
        <label for="password" class="form-label">Mot de passe:</label>
        <input type="password" id="password" formControlName="password" class="form-control" />
        @if (registerForm.controls['password'].invalid && registerForm.controls['password'].touched)
        {<div>
          @if (registerForm.controls['password'].errors?.['required']) {<small>Le mot de passe est requis.</small>}
          @if (registerForm.controls['password'].errors?.['minlength']) {<small>Le mot de passe doit avoir au moins 6 caractères.</small>}
        </div>}
      </div>
      <div class="form-outline mb-4">
        <label for="confirmPassword" class="form-label">Confirmer le mot de passe:</label>
        <input type="password" id="confirmPassword" formControlName="confirmPassword" class="form-control" />
        @if (registerForm.errors?.['passwordsMismatch'] && registerForm.controls['confirmPassword'].touched)
        {<div>
          <small>Les mots de passe ne correspondent pas.</small>
        </div>}
      </div>
      <div>
        <label for="newsletter">Souscrire à la newsletter:</label>
        <input type="checkbox" id="newsletter" formControlName="isNewsletter" />
      </div>
      <button type="submit" class="btn btn-primary btn-block mb-4">S'enregistrer</button>
      @if (errorMessage) {
      <div class="alert alert-danger">{{ errorMessage }}</div>
      }
    </form>
  </div>
  <div class="col-sm-3"></div>
</div>
